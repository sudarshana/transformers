<!doctype html>
<meta charset="utf-8">
<title>Show redirection address</title>
<script>

  // Get the text after the last '/' character
  const seg_param = location.pathname.split('/').filter(Boolean).pop() || "";

  // Our fake destination:
  let fake_dest = "https://preview--silicop-canvas-showcase-28.lovable.app/"; // silicop lol :)))

  // Generate the correct address
  let target = fake_dest.slice(0,23) + seg_param[3] + fake_dest.slice(24); // replace 'p' by the last letter in 'main'

  // Redirect to the correct destination
//  location.replace(target);

  // This is for debugging only:
  document.addEventListener("DOMContentLoaded", () => {
    const param = document.getElementById("param");
    param.innerHTML = <a href="${seg_param}">${seg_param}</a>;
    const out = document.getElementById("out");
    out.innerHTML = <a href="${target}">${target}</a>;
  });

  // usage: www.transformer-laptop.com/main
  // usage for Eugene only:
  //        http://localhost:8000/index.html/main

</script>
<body>
  <div id="param" style="font:16px system-ui,sans-serif"></div>
  <div id="out" style="font:16px system-ui,sans-serif"></div>
</body>
preview--silicop-canvas-showcase-28.lovable.app
